{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "definitions": {
        "rule": {
            "type": "object",
            "required": ["ruleName"],
            "properties": {
                "ruleName": {
                    "type": "string"
                },
                "params": {
                    "type": "array",
                    "items": {
                        "type": ["boolean", "array", "integer", "null", "number", "object", "string"]
                    }
                }
            }
        },
        "input": {
            "type": "object",
            "allOf": [
                {
                    "type": "object",
                    "properties": {
                        "rules": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/rule"
                            }
                        }
                    }
                },
                {
                    "type": "object",
                    "anyOf": [
                        {
                            "type": "object",
                            "required": ["type", "label", "bodyKey", "range"],
                            "properties": {
                                "type": {
                                    "const": "datepicker"
                                },
                                "label": {
                                    "type": "string"
                                },
                                "bodyKey": {
                                    "type": "string"
                                },
                                "range": {
                                    "type": "string",
                                    "enum": ["afterNow", "beforeNow", "any"]
                                }
                            }
                        },
                        {
                            "type": "object",
                            "required": ["type", "label", "bodyKey", "autocompleteType", "textMapper", "valueMapper"],
                            "properties": {
                                "type": {
                                    "const": "autocomplete"
                                },
                                "data": {
                                    "type": ["array"],
                                    "items": {
                                        "type": "object"
                                    }
                                },
                                "autocompleteType": {
                                    "type": "string",
                                    "enum": ["api", "data"]
                                },
                                "textMapper": {
                                    "$ref": "../TextMapperSchema/index.json#/definitions/textMapper"
                                },
                                "valueMapper": {
                                    "type": "string"
                                },
                                "bodyKey": {
                                    "type": "string"
                                },
                                "fetchUrlPath": {
                                    "type": "string"
                                },
                                "fetchMapper": {
                                    "type": ["string", "null"]
                                },
                                "label": {
                                    "type": "string"
                                }
                            }
                        },

                        {
                            "type": "object",
                            "required": ["type", "label", "bodyKey", "inputType"],
                            "properties": {
                                "type": {
                                    "const": "textInput"
                                },
                                "label": {
                                    "type": "string"
                                },
                                "bodyKey": {
                                    "type": "string"
                                },
                                "inputType": {
                                    "type": "string",
                                    "enum": ["password", "number", "text"]
                                }
                            }
                        },
                        {
                            "type": "object",
                            "required": ["type", "label", "bodyKey", "comboboxType", "textMapper"],
                            "properties": {
                                "type": {
                                    "const": "combotox"
                                },
                                "data": {
                                    "type": ["array"],
                                    "items": {
                                        "type": "object"
                                    }
                                },
                                "comboboxType": {
                                    "type": "string",
                                    "enum": ["api", "data"]
                                },
                                "textMapper": {
                                    "$ref": "../TextMapperSchema/index.json#/definitions/textMapper"
                                },
                                "label": {
                                    "type": "string"
                                },
                                "bodyKey": {
                                    "type": "string"
                                },
                                "fetchUrlPath": {
                                    "type": "string"
                                },
                                "fetchMapper": {
                                    "type": ["string", "null"]
                                }
                            }
                        }
                    ]
                }
            ]
        }
    }
}
